<!-- bootstrap css -->
<link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />

<div>

    <div id="gallery">


        <div id="controlers">
            <div *ngIf="isSearchable">
                <search-box (update)="performSearch($event)" [disabled]="isModalShown"></search-box>
            </div>

            <div *ngIf="isSortable">
                <drop-down [options]="['title', 'date']" title="sort by:" (update)="performSort($event)" [disabled]="isModalShown"></drop-down>
            </div>

            <div *ngIf="isPaginationEnabled">
                <drop-down [options]="calacResultsPerPageOptions()" title="results in a page:" [defaultOptionText]="defaultResultsPerPage" (update)="performChangeResultsPerPage($event)" [disabled]="isModalShown"></drop-down>
            </div>

            <div>
                <button (click)="showSlideShow()" [disabled] = "isModalShown" > Slide Show </button>
            </div>
        </div>

        <!-- modal part -->
        <div *ngIf="isModalShown">
            <img src = "{{ relevantPictures[bigShowCurrentIndex].url }}" onerror="this.src='./app/assets/images/placeholder.png'" >
            <div *ngIf="!isBigShowAutoRotated">
                 <button (click)="updateBigShowCurrentPicture(bigShowCurrentIndex - 1)"> prev </button>
                 <button (click)="updateBigShowCurrentPicture(bigShowCurrentIndex + 1)"> next </button>
            </div>
            <button (click)="closeModal()"> close </button>
        </div>



        <!-- present pictures -->
        <div class="row">
            <div class="col-lg-3 col-md-4 col-xs-6" *ngFor="let picture of picturesToPresent; let i = index">
                <img src= "{{ picture.url }}" title="{{picture.title}}" onerror="this.src='./app/assets/images/placeholder.png'" (click)="showBigImage(i)"  width="100" height="100">
                <!--<div class="description"> {{picture.title}} </div>-->
                <button (click) = performDeletePicture(picture.id) [disabled]="isModalShown"> delete </button>
            </div>
        </div>


        <!--<table>-->
            <!--<tr *ngFor=" #picturesRow of picturesToPresentByRows">-->
                <!--<td *ngFor="#picture of picturesRow">-->
                    <!--<img id="thumbImage" src= "{{ picture.url }}" onerror="this.src='./app/assets/images/placeholder.png'" (click)="!isModalShown && showBigImage(i+(pager.currentPage-1)*resultsPerPage)">-->
            <!--</tr>-->
        <!--</table>-->


        <!-- pagination -->
        <div class="text-center">
            <div *ngIf="isPaginationEnabled">
                <ul *ngIf="pager.pages.length" class="pagination">
                        <li [ngClass]="{disabled: pager.currentPage == 1}">
                            <a (click)="pager.currentPage != 1 && !isModalShown && performSetPage(1)" >First</a>
                        </li>
                        <li [ngClass]="{disabled: pager.currentPage == 1}">
                            <a (click)="pager.currentPage != 1 && !isModalShown && performSetPage(pager.currentPage - 1)">Previous</a>
                        </li>
                        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                            <a (click)="!isModalShown && performSetPage(page)">{{page}}</a>
                        </li>
                        <li [ngClass]="{disabled: pager.currentPage == pager.totalPages}">
                            <a (click)="pager.currentPage != pager.totalPages && !isModalShown && performSetPage(pager.currentPage + 1)">Next</a>
                        </li>
                        <li [ngClass]="{disabled: pager.currentPage == pager.totalPages}">
                            <a (click)="pager.currentPage != pager.totalPages && !isModalShown && performSetPage(pager.totalPages)">Last</a>
                        </li>
                    </ul>
            </div>
        </div>
    </div>

</div>
